# Docker

Установка докера и docker-compose без проблем осуществляется по официальной документации для конкретной ОС.  
Тут я хочу отразить всякие мелочи которые необходимы для работы.

### Запуск контейнера с Clickhouse
Создадим папку на локеле: куда будут сохранятся все данные  
`mkdir $HOME/clickhouse_database`  
Далее, запускаем контейнер в фоновом режиме  
`docker run -d --name clickhouse -p 18123:8123 -p19000:9000 --ulimit nofile=262144:262144 --volume=$HOME/clickhouse_database:/var/lib/clickhouse yandex/clickhouse-server`  
Дальше через localhost:18123/play можем поиграться с базой  
Начать можно с `select * from system.tables`
Как наигрались - выключаем  
`docker stop clickhouse` Можно гасить по CONTAINER_ID: `docker ps -a`  


### Прикольный хак для MAC (доступа из контейнера в локальный контейнер). 

Ситуация: Ваш контейнер пользует к примеру СУБД. А выхотите прицепить контейнер к локальноу СУБД развернутой в докере.  
В MAC можно в переменные среды контейнера в HOST положить вот такую строчку: `host.docker.internal`, соотвественно POST указать тот, на который забинден контейнер с субд и случится магия - контейнер при запуске суткнется в локальный порт, на который забинден контейнер с субд.  

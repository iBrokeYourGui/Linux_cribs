# GIT твою мать

[Работа с удаленными репозиториями](#работа-с-удаленными-репозиториями)  
[Разрешение конфликтов (база)](#разрешение-конфликтов)  
[Отмена последнего коммита](#отмена-последнего-коммита)

### Работа с удаленными репозиториями
С начала ваш братюня или вы сами (в случае работы с собственными репозиториями из хаба) генерит(те) персональные ключи в профиле  
`Settings->Developer settings->personal access tokens->Fine-grained personal access tokens`  
Там все просто, главное не забыть прав накинуть иначе ничего работать не будет  
Далее клонируем себе интересующий репозиторий:  
`git clone https://github.com/<username>/<repo_name>.git`  
И задаем удаленный репозиторий:  
`git remote set-url origin https://<username>:<personal_token>@github.com/<username>/<repo_name>.git`  
Если все сделал правильно команды `push` и `pull` будут работать как часы.  


### Разрешение конфликтов
Вот такая цепочка:  
git fetch -> получаем свежак с удаленного репозитория.  
git checkout больная_ветка -> переходим на ветку которую хотим вмерджить и на которой есть(предполагаются) конфликты.  
git merge origin/develop -> посыпались конфликты.  
      разрешаем конфликты (лучше конечно через IDE, для отбитых всегда есть vim :) )  
git add -> файлы в которых были конфликты   
git commit -m fix conflicts  
git push  


### Отмена последнего коммита 
Ситуация: в коммит затянулись не нужные файлы. Вы как бы забыли их включить в игнор и случайно втащили их в коммит через `git add .`  
Есть несколько вариантов решения:  
1) git revert - создаст коммит в котором будут удалены все последние правки и файлы, т.e. тупо зачистит последний коммит. Ваприк норм за исключением того, что предварительно надо закопипастить изменения с отмененного коммита. Иначе придется все переделывать заного.  
2) git reset - должен удалить коммит со всем содержимым, что как-бы не очень решение. 
3) можно через checkout предыдущий коммит и заребейсится от него дальше по ветке, но звучит как то криво + мертвый коммит будет болтаться. 
4) И наконец нормальный вариант: вернутся тупо до `git add .` -  `git reset --soft HEAD^`, потом лишние файлы удаляешь из stage `git restore --staged file` и коммитишь то, что нужно
